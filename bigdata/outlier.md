# 이상치(Outlier)

이상치(Outlier)란, 보통 관측된 데이터의 범위에서 
많이 벗어난 아주 작은 값이나 큰 값을 말한다. 

어떤 의사결정을 하는데 필요한 데이터를 분석 혹은 모델링할 경우, 
이러한 이상치가 의사결정에 큰 영향을 미칠 수 있기 때문에 
데이터 전처리 과정에서의 적절한 이상치 처리는 필수적이다.

데이터의 Z-score 는 해당 데이터가 평균으로부터 얼마의 표준 편차만큼 벗어나 있는지를 의미한다.

예를 들어 3 표준 편차 만큼을 벗어나는 데이터를 이상치로 처리하는 것은 Z-score 가 3 보다 크고 -3 보다 
작은 데이터를 이상치로 처리하는 것과 같은 작업이다.

## Isolation Forest

결정 트리 계열의 비지도 학습 알고리즘으로 High dimensional 데이터셋에서 이상치를 탐지할 때 효과적인 방법이다.

![image](https://github.com/dupyo/study-note/assets/42468263/73e2673c-9388-4d0f-b334-d4304cbf1b3c)
https://pubs.rsc.org/en/content/articlelanding/2016/ay/c6ay01574c#!divAbstract

데이터셋을 결정 트리 형태로 표현해 정상 데이터를 분리하기 위해서는 트리의 깊이가 깊어지고 
반대로 이상치는 트리의 상단에서 분리할 수 있다는 개념을 이용한다. 

즉, 데이터에서 이상치를 분리하는 것이 더 쉽다는 것이다.

따라서 특정 데이터를 데이터셋에서 분리하기 위해서는 트리에서 몇 번을 분리해야 하는지, 
다시 말하면 데이터까지의 경로 길이를 기준으로 데이터가 이상치인지 아닌지를 판단한다. 

이때 이상치는 다른 관측치에 비해 짧은 경로 길이를 가진 데이터일 것이다.

### 

DBScan (Density Based Spatial Clustering of Applications with Noise)
밀도 기반의 클러스터링 알고리즘으로 어떠한 클러스터에도 포함되지 않는 데이터를 이상치로 탐지하는 방법이다.

DBScan 알고리즘은 2가지의 하이퍼파라미터 eps 그리고 MinPts 를 요구한다.

- eps : 두 데이터 사이의 거리가 eps 보다 작거나 같을 때 이들은 같은 클러스터 내에 있는 것으로 간주한다.
- MinPts : 한 클러스터 내에 존재해야 하는 데이터의 최소 개수. 최소 3 이상의 값을 가져야 하며 보통은 데이터의 차원에 1을 더한 값 이상으로 설정한다.
