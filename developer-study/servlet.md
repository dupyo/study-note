# 요청정보

클라이언트가 URL 문자열을 이용하여 웹서버에 서블릿 수행을 요청할 때 일정한 형식의 다양한 정보를 서버로 전달하는데, 이때 클라이언트가 서버로 전달하는 요청정보들은 다음과 같다.

- 클라이언트의 IP 주소, 포트 번호
- 클라이언트가 전송한 요청 헤더 정보(문서 타입의 종류, 문자 집합(character-set)의 정보, 쿠키 정보)
- 요청 방식, 요청 프로토콜의 종류와 버전, 요청하는 파일의 URI, 요청 받은 서버의 정보
- 서버의 호스트 이름, 포트 번호
- 사용자가 서블릿 요청 시 추가로 전달한 정보
- 질의(Query) 문자열(name=value 형태의 데이터)

<br/>

# 응답정보

### 객체 생성 및 삭제

**HttpServletRequest**는 클라이언트가 서버에 보내는 **요청**정보를 처리하는 객체이고, **HttpServletResponse**는 서버가 클라이언트로 보내는 **응답**정보를 처리하는 객체이다.

클라이언트의 요청으로부터 시작되는 **웹서버의 처리 순서**를 알아보면 다음과 같다.

**1)** 클라이언트가 웹 브라우저에서 서비스를 요청한다. 

이때 HTTP 프로토콜 기반으로 요청정보가 만들어져 웹서버에 전달된다.

**2)** 웹서버는 클라이언트로부터 전달받은 요청정보의 URI를 살펴보고, 

서블릿이라면 서블릿 컨테이너에 처리를 넘긴다.

**3)** 서블릿 컨테이너는 요청받은 서블릿 클래스 파일을 찾아서 실행한다.

**4)** 실행할 때 첫 순서는 최초의 요청인지를 파악한다. 

최초의 요청이라면 클래스 파일을 메모리에 로딩 후 객체를 생성하고 init() 메소드를 호출한다.

**5)** init() 메소드 실행이 끝난 다음에는 최초의 요청이든지 그렇지 않든지 서블릿 실행 요청이 들어올 때마다 실행되는 작업으로, 

서블릿 컨테이너는 **HttpServletRequest**와 **HttpServletResponse** 객체를 생성한다. 

**HttpServletRequest** 객체는 클라이언트로부터 요청받은 정보를 처리할 목적으로 생성하고, **HttpServletResponse** 객체는 클라이언트에게 보내는 응답정보를 처리할 목적으로 생성한다.

**6)** service() 메소드를 호출한다. 이때, 앞에서 생성한 **HttpServletRequest**와 **HttpServletResponse** 객체의 주소를 인자로 넘긴다. 

service() 메소드에서는 인자로 받은 두 객체를 사용하여 프로그램을 구현한다.

**7)** service() 메소드가 완료되면 클라이언트에게 응답을 보내고 서버에서 실행되는 프로그램은 완료된다. 

이때, **HttpServletRequest**와 **HttpServletResponse** 객체는 소멸한다. 따라서 service() 메소드가 실행되는 동안에만 메모리에 상주하고 있어서 그동안에만 사용할 수 있다.

<br/>

referred by https://kgvovc.tistory.com/category/%EC%9B%B9%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/Servlet%20%26%20JSP

